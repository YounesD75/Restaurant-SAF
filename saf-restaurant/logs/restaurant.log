2025-12-24 12:39:14.325 [main] INFO  [Actor:] - Starting SafRestaurantApplication using Java 21.0.7 with PID 21449 (/home/cytech/Restaurant-SAF/saf-restaurant/target/classes started by cytech in /home/cytech/Restaurant-SAF/saf-restaurant)
2025-12-24 12:39:14.325 [main] INFO  [Actor:] - No active profile set, falling back to 1 default profile: "default"
2025-12-24 12:39:14.648 [main] INFO  [Actor:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 12:39:14.733 [main] INFO  [Actor:] - Finished Spring Data repository scanning in 81 ms. Found 2 JPA repository interfaces.
2025-12-24 12:39:14.881 [main] INFO  [Actor:] - BeanFactory id=aca8942b-953e-3481-b17e-e28dcee74cf9
2025-12-24 12:39:15.062 [main] INFO  [Actor:] - Tomcat initialized with port 8081 (http)
2025-12-24 12:39:15.070 [main] INFO  [Actor:] - Starting service [Tomcat]
2025-12-24 12:39:15.070 [main] INFO  [Actor:] - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-12-24 12:39:15.100 [main] INFO  [Actor:] - Initializing Spring embedded WebApplicationContext
2025-12-24 12:39:15.100 [main] INFO  [Actor:] - Root WebApplicationContext: initialization completed in 755 ms
2025-12-24 12:39:15.183 [main] INFO  [Actor:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 12:39:15.208 [main] INFO  [Actor:] - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-12-24 12:39:15.232 [main] INFO  [Actor:] - HHH000026: Second-level cache disabled
2025-12-24 12:39:15.342 [main] INFO  [Actor:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 12:39:15.359 [main] INFO  [Actor:] - HikariPool-1 - Starting...
2025-12-24 12:39:15.526 [main] INFO  [Actor:] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56872fcb
2025-12-24 12:39:15.527 [main] INFO  [Actor:] - HikariPool-1 - Start completed.
2025-12-24 12:39:16.126 [main] INFO  [Actor:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 12:39:16.243 [main] INFO  [Actor:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 12:39:16.253 [main] INFO  [Actor:] - SAF ActorSystem started with 12 threads.
2025-12-24 12:39:16.256 [main] DEBUG [Actor:menu-router-89974a30-77dd-4367-9a3b-abeb752fd087] - Starting actor...
2025-12-24 12:39:16.256 [main] INFO  [Actor:menu-router-89974a30-77dd-4367-9a3b-abeb752fd087] - Starting Router Pool with 3 initial workers.
2025-12-24 12:39:16.390 [main] INFO  [Actor:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 12:39:16.662 [main] DEBUG [Actor:treasury-3b57e26a-9c30-4aa4-acc6-017811f4bfb9] - Starting actor...
2025-12-24 12:39:16.684 [main] DEBUG [Actor:receipt-eaab2749-c1b2-4b00-93a6-0681a6f0ca98] - Starting actor...
2025-12-24 12:39:16.685 [main] DEBUG [Actor:restaurant-9923bc51-4550-4aa5-ba0f-5240f083d1eb] - Starting actor...
2025-12-24 12:39:16.722 [main] WARN  [Actor:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 12:39:17.118 [main] INFO  [Actor:] - Eureka HTTP Client uses RestTemplate.
2025-12-24 12:39:17.139 [main] WARN  [Actor:] - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-12-24 12:39:17.152 [main] INFO  [Actor:] - Setting initial instance status as: STARTING
2025-12-24 12:39:17.165 [main] INFO  [Actor:] - Initializing Eureka in region us-east-1
2025-12-24 12:39:17.167 [main] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Disable delta property : false
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Application is null : false
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Application version is -1: true
2025-12-24 12:39:17.171 [main] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 12:39:17.412 [main] INFO  [Actor:] - The response status is 200
2025-12-24 12:39:17.413 [main] INFO  [Actor:] - Starting heartbeat executor: renew interval is: 30
2025-12-24 12:39:17.420 [main] INFO  [Actor:] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-24 12:39:17.422 [main] INFO  [Actor:] - Discovery Client initialized at timestamp 1766576357421 with initial instances count: 0
2025-12-24 12:39:17.428 [main] INFO  [Actor:] - Registering application SAF-RESTAURANT with eureka with status UP
2025-12-24 12:39:17.428 [main] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766576357428, current=UP, previous=STARTING]
2025-12-24 12:39:17.429 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 12:39:17.441 [main] INFO  [Actor:] - Tomcat started on port 8081 (http) with context path ''
2025-12-24 12:39:17.441 [main] INFO  [Actor:] - Updating port to 8081
2025-12-24 12:39:17.451 [main] INFO  [Actor:] - Started SafRestaurantApplication in 3.365 seconds (process running for 3.525)
2025-12-24 12:39:17.536 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 12:39:46.749 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 12:39:46.749 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Servlet 'dispatcherServlet'
2025-12-24 12:39:46.750 [http-nio-8081-exec-1] INFO  [Actor:] - Completed initialization in 1 ms
2025-12-24 12:39:47.419 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Disable delta property : false
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application is null : false
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application version is -1: false
2025-12-24 12:39:47.420 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 12:39:47.438 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - The response status is 200
2025-12-24 12:42:44.755 [pool-2-thread-1] INFO  [Actor:menu-router-89974a30-77dd-4367-9a3b-abeb752fd087] - RECEIVED message [SYSTEM_SCALE_UP] Payload: 2
2025-12-24 12:42:44.756 [pool-2-thread-1] DEBUG [Actor:worker-0-dbc275ba-1c1f-450b-a514-8d6a9a05e01c] - Starting actor...
2025-12-24 12:42:44.757 [pool-2-thread-1] DEBUG [Actor:worker-1-4e3d4d4f-8fef-4067-9097-a441570342a1] - Starting actor...
2025-12-24 12:42:44.757 [pool-2-thread-1] DEBUG [Actor:worker-2-163e8819-f52c-4edf-bb9a-947afdf2f77e] - Starting actor...
2025-12-24 12:42:44.757 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 3
2025-12-24 12:42:44.757 [pool-2-thread-1] INFO  [Actor:] - Scalability: Scaling UP by 2
2025-12-24 12:42:44.758 [pool-2-thread-1] DEBUG [Actor:worker-3-b23d4c6c-0272-4c2d-a62a-b4e497c83255] - Starting actor...
2025-12-24 12:42:44.758 [pool-2-thread-1] DEBUG [Actor:worker-4-127e9017-97e4-4389-bb79-6766830bef44] - Starting actor...
2025-12-24 12:42:44.759 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 5
2025-12-24 12:42:44.759 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [SYSTEM_SCALE_UP] in 3167 µs
2025-12-24 12:43:37.395 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [SYSTEM_SCALE_DOWN] Payload: 1
2025-12-24 12:43:37.395 [pool-2-thread-1] INFO  [Actor:] - Scalability: Scaling DOWN by 1
2025-12-24 12:43:37.395 [pool-2-thread-1] DEBUG [Actor:worker-4-127e9017-97e4-4389-bb79-6766830bef44] - Stopping actor...
2025-12-24 12:43:37.395 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 4
2025-12-24 12:43:37.395 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [SYSTEM_SCALE_DOWN] in 289 µs
2025-12-24 12:44:13.635 [http-nio-8081-exec-7] DEBUG [Actor:ask-c874c689-b451-4df9-ba4f-930ea6daa23f-877bdecf-1c3d-47dc-baf7-62500bb83e99] - Starting actor...
2025-12-24 12:44:13.636 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [ListMenu] Payload: ActorRef(ask-c874c689-b451-4df9-ba4f-930ea6daa23f-877bdecf-1c3d-47dc-baf7-62500bb83e99)
2025-12-24 12:44:13.636 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-0-dbc275ba-1c1f-450b-a514-8d6a9a05e01c
2025-12-24 12:44:13.636 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 87 µs
2025-12-24 12:44:13.636 [pool-2-thread-5] INFO  [Actor:worker-0-dbc275ba-1c1f-450b-a514-8d6a9a05e01c] - RECEIVED message [ListMenu] Payload: ActorRef(ask-c874c689-b451-4df9-ba4f-930ea6daa23f-877bdecf-1c3d-47dc-baf7-62500bb83e99)
2025-12-24 12:44:13.637 [pool-2-thread-5] DEBUG [Actor:worker-0-dbc275ba-1c1f-450b-a514-8d6a9a05e01c] - PROCESSED message [ListMenu] in 98 µs
2025-12-24 12:44:13.637 [pool-2-thread-10] INFO  [Actor:ask-c874c689-b451-4df9-ba4f-930ea6daa23f-877bdecf-1c3d-47dc-baf7-62500bb83e99] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=1, name=Pizza Margherita, price=12.5, description=Tomate, Mozza, Basilic], MenuItem[dishName=2, name=Burger Classique, price=15.0, description=Boeuf, Cheddar, Oignons], MenuItem[dishName=3, name=Salade César, price=10.0, description=Poulet, Parmesan, Croutons]]
2025-12-24 12:44:13.643 [pool-2-thread-10] DEBUG [Actor:ask-c874c689-b451-4df9-ba4f-930ea6daa23f-877bdecf-1c3d-47dc-baf7-62500bb83e99] - Stopping actor...
2025-12-24 12:44:13.643 [pool-2-thread-10] DEBUG [Actor:] - PROCESSED message [MenuListed] in 324 µs
2025-12-24 12:44:17.172 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 12:45:55.558 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering application SAF-RESTAURANT with eureka with status DOWN
2025-12-24 12:45:55.559 [SpringApplicationShutdownHook] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766576755559, current=DOWN, previous=UP]
2025-12-24 12:45:55.559 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 12:45:55.575 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 12:45:55.578 [SpringApplicationShutdownHook] INFO  [Actor:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 12:45:55.582 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown initiated...
2025-12-24 12:45:55.591 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown completed.
2025-12-24 12:45:55.592 [SpringApplicationShutdownHook] INFO  [Actor:] - Shutting down DiscoveryClient ...
2025-12-24 12:45:58.594 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering ...
2025-12-24 12:45:58.605 [SpringApplicationShutdownHook] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - deregister  status: 200
2025-12-24 12:45:58.606 [SpringApplicationShutdownHook] INFO  [Actor:] - Completed shut down of DiscoveryClient
2025-12-24 13:06:03.781 [main] INFO  [Actor:] - Starting SafRestaurantApplication using Java 21.0.7 with PID 37848 (/home/cytech/Restaurant-SAF/saf-restaurant/target/classes started by cytech in /home/cytech/Restaurant-SAF/saf-restaurant)
2025-12-24 13:06:03.783 [main] INFO  [Actor:] - No active profile set, falling back to 1 default profile: "default"
2025-12-24 13:06:04.377 [main] INFO  [Actor:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 13:06:04.497 [main] INFO  [Actor:] - Finished Spring Data repository scanning in 112 ms. Found 2 JPA repository interfaces.
2025-12-24 13:06:04.688 [main] INFO  [Actor:] - BeanFactory id=aca8942b-953e-3481-b17e-e28dcee74cf9
2025-12-24 13:06:04.974 [main] INFO  [Actor:] - Tomcat initialized with port 8081 (http)
2025-12-24 13:06:04.987 [main] INFO  [Actor:] - Starting service [Tomcat]
2025-12-24 13:06:04.987 [main] INFO  [Actor:] - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-12-24 13:06:05.036 [main] INFO  [Actor:] - Initializing Spring embedded WebApplicationContext
2025-12-24 13:06:05.037 [main] INFO  [Actor:] - Root WebApplicationContext: initialization completed in 1217 ms
2025-12-24 13:06:05.175 [main] INFO  [Actor:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 13:06:05.217 [main] INFO  [Actor:] - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-12-24 13:06:05.246 [main] INFO  [Actor:] - HHH000026: Second-level cache disabled
2025-12-24 13:06:05.510 [main] INFO  [Actor:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 13:06:05.537 [main] INFO  [Actor:] - HikariPool-1 - Starting...
2025-12-24 13:06:05.822 [main] INFO  [Actor:] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@f49e81a
2025-12-24 13:06:05.824 [main] INFO  [Actor:] - HikariPool-1 - Start completed.
2025-12-24 13:06:06.848 [main] INFO  [Actor:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 13:06:06.934 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:06:06.934 [main] WARN  [Actor:] - la contrainte « uk_oq3k6lov98v737betmc0gna0f » de la relation « receipts » n'existe pas, ignore
2025-12-24 13:06:06.940 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:06:06.941 [main] WARN  [Actor:] - la contrainte « uk_604j9lgnslnhffkb9atk5van2 » de la relation « treasury_entries » n'existe pas, ignore
2025-12-24 13:06:06.953 [main] INFO  [Actor:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:06:06.977 [main] INFO  [Actor:] - SAF ActorSystem started with 12 threads.
2025-12-24 13:06:06.985 [main] DEBUG [Actor:menu-router-79367c17-7687-4e39-8639-dce5ae80635f] - Starting actor...
2025-12-24 13:06:06.985 [main] INFO  [Actor:menu-router-79367c17-7687-4e39-8639-dce5ae80635f] - Starting Router Pool with 3 initial workers.
2025-12-24 13:06:07.190 [main] INFO  [Actor:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 13:06:07.624 [main] DEBUG [Actor:treasury-07a77e97-42e7-48c9-b614-b7ca182d91f6] - Starting actor...
2025-12-24 13:06:07.655 [main] DEBUG [Actor:receipt-6d6e00b4-2c5a-47f7-abaf-77701f4a202a] - Starting actor...
2025-12-24 13:06:07.657 [main] DEBUG [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - Starting actor...
2025-12-24 13:06:07.717 [main] WARN  [Actor:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 13:06:08.789 [main] INFO  [Actor:] - Eureka HTTP Client uses RestTemplate.
2025-12-24 13:06:08.872 [main] WARN  [Actor:] - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-12-24 13:06:08.940 [main] INFO  [Actor:] - Setting initial instance status as: STARTING
2025-12-24 13:06:08.970 [main] INFO  [Actor:] - Initializing Eureka in region us-east-1
2025-12-24 13:06:08.981 [main] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:06:09.003 [main] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:06:09.003 [main] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:06:09.003 [main] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:06:09.003 [main] INFO  [Actor:] - Application is null : false
2025-12-24 13:06:09.004 [main] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:06:09.004 [main] INFO  [Actor:] - Application version is -1: true
2025-12-24 13:06:09.004 [main] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:06:09.612 [main] INFO  [Actor:] - The response status is 200
2025-12-24 13:06:09.614 [main] INFO  [Actor:] - Starting heartbeat executor: renew interval is: 30
2025-12-24 13:06:09.617 [main] INFO  [Actor:] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-24 13:06:09.622 [main] INFO  [Actor:] - Discovery Client initialized at timestamp 1766577969620 with initial instances count: 0
2025-12-24 13:06:09.630 [main] INFO  [Actor:] - Registering application SAF-RESTAURANT with eureka with status UP
2025-12-24 13:06:09.631 [main] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766577969631, current=UP, previous=STARTING]
2025-12-24 13:06:09.633 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:06:09.669 [main] INFO  [Actor:] - Tomcat started on port 8081 (http) with context path ''
2025-12-24 13:06:09.671 [main] INFO  [Actor:] - Updating port to 8081
2025-12-24 13:06:09.698 [main] INFO  [Actor:] - Started SafRestaurantApplication in 6.325 seconds (process running for 6.68)
2025-12-24 13:06:09.807 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 13:06:39.615 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:06:39.615 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:06:39.616 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:06:39.616 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application is null : false
2025-12-24 13:06:39.616 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:06:39.616 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application version is -1: false
2025-12-24 13:06:39.616 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:06:39.650 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - The response status is 200
2025-12-24 13:10:27.863 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 13:10:27.863 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Servlet 'dispatcherServlet'
2025-12-24 13:10:27.865 [http-nio-8081-exec-1] INFO  [Actor:] - Completed initialization in 2 ms
2025-12-24 13:10:27.893 [http-nio-8081-exec-1] DEBUG [Actor:ask-cad9a0a5-352c-43ff-aad9-2b383fd22c0a-f5b85a65-27a7-474b-aec2-0805405f2329] - Starting actor...
2025-12-24 13:10:27.894 [pool-2-thread-1] INFO  [Actor:menu-router-79367c17-7687-4e39-8639-dce5ae80635f] - RECEIVED message [ListMenu] Payload: ActorRef(ask-cad9a0a5-352c-43ff-aad9-2b383fd22c0a-f5b85a65-27a7-474b-aec2-0805405f2329)
2025-12-24 13:10:27.896 [pool-2-thread-1] DEBUG [Actor:worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520] - Starting actor...
2025-12-24 13:10:27.897 [pool-2-thread-1] DEBUG [Actor:worker-1-d965a847-d2ae-47be-bd08-4b3856964a55] - Starting actor...
2025-12-24 13:10:27.898 [pool-2-thread-1] DEBUG [Actor:worker-2-51e804d9-8191-4f99-97e9-f517d5d11317] - Starting actor...
2025-12-24 13:10:27.898 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 3
2025-12-24 13:10:27.899 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520
2025-12-24 13:10:27.899 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 4080 µs
2025-12-24 13:10:27.899 [pool-2-thread-6] INFO  [Actor:worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520] - RECEIVED message [ListMenu] Payload: ActorRef(ask-cad9a0a5-352c-43ff-aad9-2b383fd22c0a-f5b85a65-27a7-474b-aec2-0805405f2329)
2025-12-24 13:10:27.899 [pool-2-thread-6] DEBUG [Actor:worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520] - PROCESSED message [ListMenu] in 104 µs
2025-12-24 13:10:27.899 [pool-2-thread-5] INFO  [Actor:ask-cad9a0a5-352c-43ff-aad9-2b383fd22c0a-f5b85a65-27a7-474b-aec2-0805405f2329] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=1, name=Pizza Margherita, price=12.5, description=Tomate, Mozza, Basilic], MenuItem[dishName=2, name=Burger Classique, price=15.0, description=Boeuf, Cheddar, Oignons], MenuItem[dishName=3, name=Salade César, price=10.0, description=Poulet, Parmesan, Croutons]]
2025-12-24 13:10:27.904 [pool-2-thread-5] DEBUG [Actor:ask-cad9a0a5-352c-43ff-aad9-2b383fd22c0a-f5b85a65-27a7-474b-aec2-0805405f2329] - Stopping actor...
2025-12-24 13:10:27.905 [pool-2-thread-5] DEBUG [Actor:] - PROCESSED message [MenuListed] in 460 µs
2025-12-24 13:11:04.077 [http-nio-8081-exec-2] DEBUG [Actor:ask-bdbc07ea-18eb-42cc-bcad-efcda471a4c8-c63bea60-3052-4671-8d1c-dc5cf2a911c0] - Starting actor...
2025-12-24 13:11:04.078 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [ListMenu] Payload: ActorRef(ask-bdbc07ea-18eb-42cc-bcad-efcda471a4c8-c63bea60-3052-4671-8d1c-dc5cf2a911c0)
2025-12-24 13:11:04.078 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-1-d965a847-d2ae-47be-bd08-4b3856964a55
2025-12-24 13:11:04.078 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 83 µs
2025-12-24 13:11:04.078 [pool-2-thread-7] INFO  [Actor:worker-1-d965a847-d2ae-47be-bd08-4b3856964a55] - RECEIVED message [ListMenu] Payload: ActorRef(ask-bdbc07ea-18eb-42cc-bcad-efcda471a4c8-c63bea60-3052-4671-8d1c-dc5cf2a911c0)
2025-12-24 13:11:04.079 [pool-2-thread-7] DEBUG [Actor:worker-1-d965a847-d2ae-47be-bd08-4b3856964a55] - PROCESSED message [ListMenu] in 24 µs
2025-12-24 13:11:04.079 [pool-2-thread-9] INFO  [Actor:ask-bdbc07ea-18eb-42cc-bcad-efcda471a4c8-c63bea60-3052-4671-8d1c-dc5cf2a911c0] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=1, name=Pizza Margherita, price=12.5, description=Tomate, Mozza, Basilic], MenuItem[dishName=2, name=Burger Classique, price=15.0, description=Boeuf, Cheddar, Oignons], MenuItem[dishName=3, name=Salade César, price=10.0, description=Poulet, Parmesan, Croutons]]
2025-12-24 13:11:04.079 [pool-2-thread-9] DEBUG [Actor:ask-bdbc07ea-18eb-42cc-bcad-efcda471a4c8-c63bea60-3052-4671-8d1c-dc5cf2a911c0] - Stopping actor...
2025-12-24 13:11:04.079 [pool-2-thread-9] DEBUG [Actor:] - PROCESSED message [MenuListed] in 81 µs
2025-12-24 13:11:09.008 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:11:21.050 [http-nio-8081-exec-3] DEBUG [Actor:ask-d30bb34a-3c6d-4ae5-b71c-23bc0fa097d2-80efbe91-f8bb-4ef0-9f31-ffd53b583fbf] - Starting actor...
2025-12-24 13:11:21.051 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [ListMenu] Payload: ActorRef(ask-d30bb34a-3c6d-4ae5-b71c-23bc0fa097d2-80efbe91-f8bb-4ef0-9f31-ffd53b583fbf)
2025-12-24 13:11:21.051 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-2-51e804d9-8191-4f99-97e9-f517d5d11317
2025-12-24 13:11:21.051 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 129 µs
2025-12-24 13:11:21.052 [pool-2-thread-8] INFO  [Actor:worker-2-51e804d9-8191-4f99-97e9-f517d5d11317] - RECEIVED message [ListMenu] Payload: ActorRef(ask-d30bb34a-3c6d-4ae5-b71c-23bc0fa097d2-80efbe91-f8bb-4ef0-9f31-ffd53b583fbf)
2025-12-24 13:11:21.052 [pool-2-thread-8] DEBUG [Actor:worker-2-51e804d9-8191-4f99-97e9-f517d5d11317] - PROCESSED message [ListMenu] in 23 µs
2025-12-24 13:11:21.052 [pool-2-thread-10] INFO  [Actor:ask-d30bb34a-3c6d-4ae5-b71c-23bc0fa097d2-80efbe91-f8bb-4ef0-9f31-ffd53b583fbf] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=1, name=Pizza Margherita, price=12.5, description=Tomate, Mozza, Basilic], MenuItem[dishName=2, name=Burger Classique, price=15.0, description=Boeuf, Cheddar, Oignons], MenuItem[dishName=3, name=Salade César, price=10.0, description=Poulet, Parmesan, Croutons]]
2025-12-24 13:11:21.052 [pool-2-thread-10] DEBUG [Actor:ask-d30bb34a-3c6d-4ae5-b71c-23bc0fa097d2-80efbe91-f8bb-4ef0-9f31-ffd53b583fbf] - Stopping actor...
2025-12-24 13:11:21.052 [pool-2-thread-10] DEBUG [Actor:] - PROCESSED message [MenuListed] in 111 µs
2025-12-24 13:11:48.967 [http-nio-8081-exec-4] DEBUG [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - Starting actor...
2025-12-24 13:11:48.967 [pool-2-thread-11] INFO  [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - RECEIVED message [BeginOrder] Payload: BeginOrder[]
2025-12-24 13:11:48.968 [pool-2-thread-11] DEBUG [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - PROCESSED message [BeginOrder] in 231 µs
2025-12-24 13:11:48.968 [pool-2-thread-4] INFO  [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - RECEIVED message [OrderPlaced] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:11:48.972 [pool-2-thread-4] INFO  [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - Received order 1766577967660 from Alice
2025-12-24 13:11:48.974 [pool-2-thread-4] DEBUG [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - PROCESSED message [OrderPlaced] in 1757 µs
2025-12-24 13:11:48.974 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:11:48.974 [pool-2-thread-1] DEBUG [Actor:] - Routing message [CalculatePrice] to worker worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520
2025-12-24 13:11:48.974 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [CalculatePrice] in 88 µs
2025-12-24 13:11:48.974 [pool-2-thread-6] INFO  [Actor:worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:11:48.975 [pool-2-thread-6] DEBUG [Actor:worker-0-7fa25549-19cb-46d9-90ef-d8ea5469d520] - PROCESSED message [CalculatePrice] in 583 µs
2025-12-24 13:11:48.975 [pool-2-thread-4] INFO  [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - RECEIVED message [PriceCalculated] Payload: PriceCalculated[orderId=1766577967660, valid=true, total=0, missingItems=[burger, drink]]
2025-12-24 13:11:48.982 [pool-2-thread-4] DEBUG [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - PROCESSED message [PriceCalculated] in 1431 µs
2025-12-24 13:11:48.982 [pool-2-thread-11] INFO  [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766577967660, status=PENDING_STOCK, message=Commande en attente: articles inconnus (burger, drink)., estimatedTotal=0, receipt=null]
2025-12-24 13:11:48.985 [pool-2-thread-11] DEBUG [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - PROCESSED message [AcknowledgeOrder] in 43 µs
2025-12-24 13:13:11.964 [pool-2-thread-4] INFO  [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - RECEIVED message [StockResult] Payload: StockResult[orderId=1766577967660, available=true, missingItems=[]]
2025-12-24 13:13:11.967 [pool-2-thread-4] DEBUG [Actor:restaurant-ee214a1c-85d4-4a31-a554-1744b5259c6d] - PROCESSED message [StockResult] in 109 µs
2025-12-24 13:13:11.968 [pool-2-thread-11] INFO  [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766577967660, status=REJECTED, message=Articles inconnus: burger, drink, estimatedTotal=0, receipt=null]
2025-12-24 13:13:11.968 [pool-2-thread-11] DEBUG [Actor:client-1766577967660-f2836890-5dea-4548-84bb-073afcb18ab2] - Stopping actor...
2025-12-24 13:13:11.968 [pool-2-thread-11] DEBUG [Actor:] - PROCESSED message [AcknowledgeOrder] in 114 µs
2025-12-24 13:13:54.949 [http-nio-8081-exec-8] DEBUG [Actor:ask-5dc6caec-f50b-475c-99c3-0a23c3525a9c-0c0e90a8-75c3-4a4a-bec7-b2ec34722eb1] - Starting actor...
2025-12-24 13:13:54.954 [pool-2-thread-2] INFO  [Actor:treasury-07a77e97-42e7-48c9-b614-b7ca182d91f6] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-5dc6caec-f50b-475c-99c3-0a23c3525a9c-0c0e90a8-75c3-4a4a-bec7-b2ec34722eb1)
2025-12-24 13:13:55.106 [pool-2-thread-2] DEBUG [Actor:treasury-07a77e97-42e7-48c9-b614-b7ca182d91f6] - PROCESSED message [TreasurySnapshotRequest] in 151743 µs
2025-12-24 13:13:55.107 [pool-2-thread-12] INFO  [Actor:ask-5dc6caec-f50b-475c-99c3-0a23c3525a9c-0c0e90a8-75c3-4a4a-bec7-b2ec34722eb1] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=0, ordersSettled=0]
2025-12-24 13:13:55.108 [pool-2-thread-12] DEBUG [Actor:ask-5dc6caec-f50b-475c-99c3-0a23c3525a9c-0c0e90a8-75c3-4a4a-bec7-b2ec34722eb1] - Stopping actor...
2025-12-24 13:13:55.108 [pool-2-thread-12] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 152 µs
2025-12-24 13:14:15.110 [http-nio-8081-exec-9] DEBUG [Actor:ask-397c5027-d7ff-46dc-9df9-474afd91b558-16d801b9-42e9-41f6-8ddd-f80b272d50d7] - Starting actor...
2025-12-24 13:14:15.110 [pool-2-thread-2] INFO  [Actor:treasury-07a77e97-42e7-48c9-b614-b7ca182d91f6] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-397c5027-d7ff-46dc-9df9-474afd91b558-16d801b9-42e9-41f6-8ddd-f80b272d50d7)
2025-12-24 13:14:15.122 [pool-2-thread-2] DEBUG [Actor:treasury-07a77e97-42e7-48c9-b614-b7ca182d91f6] - PROCESSED message [TreasurySnapshotRequest] in 11007 µs
2025-12-24 13:14:15.122 [pool-2-thread-5] INFO  [Actor:ask-397c5027-d7ff-46dc-9df9-474afd91b558-16d801b9-42e9-41f6-8ddd-f80b272d50d7] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=0, ordersSettled=0]
2025-12-24 13:14:15.122 [pool-2-thread-5] DEBUG [Actor:ask-397c5027-d7ff-46dc-9df9-474afd91b558-16d801b9-42e9-41f6-8ddd-f80b272d50d7] - Stopping actor...
2025-12-24 13:14:15.123 [pool-2-thread-5] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 305 µs
2025-12-24 13:14:35.409 [http-nio-8081-exec-1] WARN  [Actor:] - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "<ID_RECU>"]
2025-12-24 13:15:39.084 [http-nio-8081-exec-3] WARN  [Actor:] - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "1766577967660,"]
2025-12-24 13:16:09.010 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:18:17.678 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering application SAF-RESTAURANT with eureka with status DOWN
2025-12-24 13:18:17.678 [SpringApplicationShutdownHook] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766578697678, current=DOWN, previous=UP]
2025-12-24 13:18:17.678 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:18:17.693 [SpringApplicationShutdownHook] INFO  [Actor:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:18:17.693 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 21 more

2025-12-24 13:18:17.693 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:18:17.695 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown initiated...
2025-12-24 13:18:17.706 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown completed.
2025-12-24 13:18:17.708 [SpringApplicationShutdownHook] INFO  [Actor:] - Shutting down DiscoveryClient ...
2025-12-24 13:18:17.712 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 22 more

2025-12-24 13:18:17.712 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:18:17.713 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:18:17.718 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:18:17.719 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering ...
2025-12-24 13:18:17.729 [SpringApplicationShutdownHook] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:96)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 38 more

2025-12-24 13:18:17.729 [SpringApplicationShutdownHook] WARN  [Actor:] - Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:18:17.730 [SpringApplicationShutdownHook] ERROR [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:18:17.730 [SpringApplicationShutdownHook] INFO  [Actor:] - Completed shut down of DiscoveryClient
2025-12-24 13:25:44.024 [main] INFO  [Actor:] - Starting SafRestaurantApplication using Java 21.0.7 with PID 50651 (/home/cytech/Restaurant-SAF/saf-restaurant/target/classes started by cytech in /home/cytech/Restaurant-SAF/saf-restaurant)
2025-12-24 13:25:44.026 [main] INFO  [Actor:] - No active profile set, falling back to 1 default profile: "default"
2025-12-24 13:25:44.588 [main] INFO  [Actor:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 13:25:44.707 [main] INFO  [Actor:] - Finished Spring Data repository scanning in 111 ms. Found 2 JPA repository interfaces.
2025-12-24 13:25:44.897 [main] INFO  [Actor:] - BeanFactory id=aca8942b-953e-3481-b17e-e28dcee74cf9
2025-12-24 13:25:45.185 [main] INFO  [Actor:] - Tomcat initialized with port 8081 (http)
2025-12-24 13:25:45.197 [main] INFO  [Actor:] - Starting service [Tomcat]
2025-12-24 13:25:45.198 [main] INFO  [Actor:] - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-12-24 13:25:45.248 [main] INFO  [Actor:] - Initializing Spring embedded WebApplicationContext
2025-12-24 13:25:45.248 [main] INFO  [Actor:] - Root WebApplicationContext: initialization completed in 1184 ms
2025-12-24 13:25:45.407 [main] INFO  [Actor:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 13:25:45.451 [main] INFO  [Actor:] - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-12-24 13:25:45.477 [main] INFO  [Actor:] - HHH000026: Second-level cache disabled
2025-12-24 13:25:45.674 [main] INFO  [Actor:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 13:25:45.697 [main] INFO  [Actor:] - HikariPool-1 - Starting...
2025-12-24 13:25:45.965 [main] INFO  [Actor:] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36871e98
2025-12-24 13:25:45.966 [main] INFO  [Actor:] - HikariPool-1 - Start completed.
2025-12-24 13:25:46.963 [main] INFO  [Actor:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 13:25:47.020 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:25:47.021 [main] WARN  [Actor:] - la contrainte « uk_oq3k6lov98v737betmc0gna0f » de la relation « receipts » n'existe pas, ignore
2025-12-24 13:25:47.024 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:25:47.025 [main] WARN  [Actor:] - la contrainte « uk_604j9lgnslnhffkb9atk5van2 » de la relation « treasury_entries » n'existe pas, ignore
2025-12-24 13:25:47.032 [main] INFO  [Actor:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:25:47.050 [main] INFO  [Actor:] - SAF ActorSystem started with 12 threads.
2025-12-24 13:25:47.057 [main] DEBUG [Actor:menu-router-0af71d48-fe9c-4ebe-aa58-5886d68dd619] - Starting actor...
2025-12-24 13:25:47.057 [main] INFO  [Actor:menu-router-0af71d48-fe9c-4ebe-aa58-5886d68dd619] - Starting Router Pool with 3 initial workers.
2025-12-24 13:25:47.272 [main] INFO  [Actor:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 13:25:47.724 [main] DEBUG [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - Starting actor...
2025-12-24 13:25:47.759 [main] DEBUG [Actor:receipt-c8969ee2-e56c-4ed9-acae-353f18c1fe45] - Starting actor...
2025-12-24 13:25:47.760 [main] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - Starting actor...
2025-12-24 13:25:47.810 [main] WARN  [Actor:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 13:25:48.291 [main] INFO  [Actor:] - Eureka HTTP Client uses RestTemplate.
2025-12-24 13:25:48.328 [main] WARN  [Actor:] - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-12-24 13:25:48.350 [main] INFO  [Actor:] - Setting initial instance status as: STARTING
2025-12-24 13:25:48.373 [main] INFO  [Actor:] - Initializing Eureka in region us-east-1
2025-12-24 13:25:48.376 [main] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Application is null : false
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Application version is -1: true
2025-12-24 13:25:48.383 [main] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:25:48.784 [main] INFO  [Actor:] - The response status is 200
2025-12-24 13:25:48.786 [main] INFO  [Actor:] - Starting heartbeat executor: renew interval is: 30
2025-12-24 13:25:48.788 [main] INFO  [Actor:] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-24 13:25:48.790 [main] INFO  [Actor:] - Discovery Client initialized at timestamp 1766579148789 with initial instances count: 0
2025-12-24 13:25:48.798 [main] INFO  [Actor:] - Registering application SAF-RESTAURANT with eureka with status UP
2025-12-24 13:25:48.799 [main] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766579148799, current=UP, previous=STARTING]
2025-12-24 13:25:48.801 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:25:48.824 [main] INFO  [Actor:] - Tomcat started on port 8081 (http) with context path ''
2025-12-24 13:25:48.826 [main] INFO  [Actor:] - Updating port to 8081
2025-12-24 13:25:48.919 [main] INFO  [Actor:] - Started SafRestaurantApplication in 5.294 seconds (process running for 5.6)
2025-12-24 13:25:48.991 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 13:26:18.786 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:26:18.787 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:26:18.787 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:26:18.787 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application is null : false
2025-12-24 13:26:18.787 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:26:18.787 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application version is -1: false
2025-12-24 13:26:18.788 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:26:18.824 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - The response status is 200
2025-12-24 13:26:47.928 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 13:26:47.929 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Servlet 'dispatcherServlet'
2025-12-24 13:26:47.932 [http-nio-8081-exec-1] INFO  [Actor:] - Completed initialization in 2 ms
2025-12-24 13:26:47.977 [http-nio-8081-exec-1] DEBUG [Actor:ask-3b72e1b1-7ca5-47e4-8f0c-3748214d859e-8c98ea4e-c091-4882-bf1a-7cfc7ba3a5d0] - Starting actor...
2025-12-24 13:26:47.979 [pool-2-thread-2] INFO  [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-3b72e1b1-7ca5-47e4-8f0c-3748214d859e-8c98ea4e-c091-4882-bf1a-7cfc7ba3a5d0)
2025-12-24 13:26:48.106 [pool-2-thread-2] DEBUG [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - PROCESSED message [TreasurySnapshotRequest] in 126628 µs
2025-12-24 13:26:48.106 [pool-2-thread-5] INFO  [Actor:ask-3b72e1b1-7ca5-47e4-8f0c-3748214d859e-8c98ea4e-c091-4882-bf1a-7cfc7ba3a5d0] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=0, ordersSettled=0]
2025-12-24 13:26:48.108 [pool-2-thread-5] DEBUG [Actor:ask-3b72e1b1-7ca5-47e4-8f0c-3748214d859e-8c98ea4e-c091-4882-bf1a-7cfc7ba3a5d0] - Stopping actor...
2025-12-24 13:26:48.108 [pool-2-thread-5] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 238 µs
2025-12-24 13:27:09.140 [http-nio-8081-exec-4] DEBUG [Actor:ask-b7575897-afce-492e-a7c2-51ad48034819-8d0531c1-54fd-4b30-b381-17c0a2297346] - Starting actor...
2025-12-24 13:27:09.142 [pool-2-thread-1] INFO  [Actor:menu-router-0af71d48-fe9c-4ebe-aa58-5886d68dd619] - RECEIVED message [ListMenu] Payload: ActorRef(ask-b7575897-afce-492e-a7c2-51ad48034819-8d0531c1-54fd-4b30-b381-17c0a2297346)
2025-12-24 13:27:09.145 [pool-2-thread-1] DEBUG [Actor:worker-0-c33a67dc-6cd1-4875-87f3-7778409a1b08] - Starting actor...
2025-12-24 13:27:09.147 [pool-2-thread-1] DEBUG [Actor:worker-1-7204afee-1896-4d23-ae6f-af5b2a2dc9c5] - Starting actor...
2025-12-24 13:27:09.148 [pool-2-thread-1] DEBUG [Actor:worker-2-7402b012-9711-4b91-b00c-7cc210d46658] - Starting actor...
2025-12-24 13:27:09.149 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 3
2025-12-24 13:27:09.151 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-0-c33a67dc-6cd1-4875-87f3-7778409a1b08
2025-12-24 13:27:09.151 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 8013 µs
2025-12-24 13:27:09.151 [pool-2-thread-7] INFO  [Actor:worker-0-c33a67dc-6cd1-4875-87f3-7778409a1b08] - RECEIVED message [ListMenu] Payload: ActorRef(ask-b7575897-afce-492e-a7c2-51ad48034819-8d0531c1-54fd-4b30-b381-17c0a2297346)
2025-12-24 13:27:09.152 [pool-2-thread-7] DEBUG [Actor:worker-0-c33a67dc-6cd1-4875-87f3-7778409a1b08] - PROCESSED message [ListMenu] in 233 µs
2025-12-24 13:27:09.152 [pool-2-thread-6] INFO  [Actor:ask-b7575897-afce-492e-a7c2-51ad48034819-8d0531c1-54fd-4b30-b381-17c0a2297346] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=burger, name=Burger maison, price=12.5, description=Pain brioché, boeuf, cheddar], MenuItem[dishName=salad, name=Salade fraîcheur, price=9.9, description=Légumes croquants], MenuItem[dishName=dessert, name=Mousse au chocolat, price=6.5, description=Chocolat noir 70%], MenuItem[dishName=drink, name=Limonade artisanale, price=4.0, description=Citron, menthe], MenuItem[dishName=coffee, name=Expresso, price=2.5, description=Arabica torréfié]]
2025-12-24 13:27:09.158 [pool-2-thread-6] DEBUG [Actor:ask-b7575897-afce-492e-a7c2-51ad48034819-8d0531c1-54fd-4b30-b381-17c0a2297346] - Stopping actor...
2025-12-24 13:27:09.158 [pool-2-thread-6] DEBUG [Actor:] - PROCESSED message [MenuListed] in 325 µs
2025-12-24 13:27:09.348 [http-nio-8081-exec-5] DEBUG [Actor:ask-1bc3c9ca-f966-46ab-8e02-895866f9668b-ea29bdb6-9c38-4274-b8db-04d74d7f6644] - Starting actor...
2025-12-24 13:27:09.349 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [ListMenu] Payload: ActorRef(ask-1bc3c9ca-f966-46ab-8e02-895866f9668b-ea29bdb6-9c38-4274-b8db-04d74d7f6644)
2025-12-24 13:27:09.349 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-1-7204afee-1896-4d23-ae6f-af5b2a2dc9c5
2025-12-24 13:27:09.349 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 127 µs
2025-12-24 13:27:09.349 [pool-2-thread-8] INFO  [Actor:worker-1-7204afee-1896-4d23-ae6f-af5b2a2dc9c5] - RECEIVED message [ListMenu] Payload: ActorRef(ask-1bc3c9ca-f966-46ab-8e02-895866f9668b-ea29bdb6-9c38-4274-b8db-04d74d7f6644)
2025-12-24 13:27:09.350 [pool-2-thread-8] DEBUG [Actor:worker-1-7204afee-1896-4d23-ae6f-af5b2a2dc9c5] - PROCESSED message [ListMenu] in 24 µs
2025-12-24 13:27:09.350 [pool-2-thread-10] INFO  [Actor:ask-1bc3c9ca-f966-46ab-8e02-895866f9668b-ea29bdb6-9c38-4274-b8db-04d74d7f6644] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=burger, name=Burger maison, price=12.5, description=Pain brioché, boeuf, cheddar], MenuItem[dishName=salad, name=Salade fraîcheur, price=9.9, description=Légumes croquants], MenuItem[dishName=dessert, name=Mousse au chocolat, price=6.5, description=Chocolat noir 70%], MenuItem[dishName=drink, name=Limonade artisanale, price=4.0, description=Citron, menthe], MenuItem[dishName=coffee, name=Expresso, price=2.5, description=Arabica torréfié]]
2025-12-24 13:27:09.350 [pool-2-thread-10] DEBUG [Actor:ask-1bc3c9ca-f966-46ab-8e02-895866f9668b-ea29bdb6-9c38-4274-b8db-04d74d7f6644] - Stopping actor...
2025-12-24 13:27:09.350 [pool-2-thread-10] DEBUG [Actor:] - PROCESSED message [MenuListed] in 61 µs
2025-12-24 13:27:48.550 [http-nio-8081-exec-7] DEBUG [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - Starting actor...
2025-12-24 13:27:48.551 [pool-2-thread-11] INFO  [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - RECEIVED message [BeginOrder] Payload: BeginOrder[]
2025-12-24 13:27:48.552 [pool-2-thread-11] DEBUG [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - PROCESSED message [BeginOrder] in 251 µs
2025-12-24 13:27:48.552 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - RECEIVED message [OrderPlaced] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:27:48.553 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - Received order 1766579147763 from Alice
2025-12-24 13:27:48.554 [pool-2-thread-4] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - PROCESSED message [OrderPlaced] in 890 µs
2025-12-24 13:27:48.554 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:27:48.554 [pool-2-thread-1] DEBUG [Actor:] - Routing message [CalculatePrice] to worker worker-2-7402b012-9711-4b91-b00c-7cc210d46658
2025-12-24 13:27:48.554 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [CalculatePrice] in 110 µs
2025-12-24 13:27:48.555 [pool-2-thread-9] INFO  [Actor:worker-2-7402b012-9711-4b91-b00c-7cc210d46658] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:27:48.555 [pool-2-thread-9] DEBUG [Actor:worker-2-7402b012-9711-4b91-b00c-7cc210d46658] - PROCESSED message [CalculatePrice] in 489 µs
2025-12-24 13:27:48.555 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - RECEIVED message [PriceCalculated] Payload: PriceCalculated[orderId=1766579147763, valid=true, total=33.0, missingItems=[]]
2025-12-24 13:27:48.562 [pool-2-thread-4] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - PROCESSED message [PriceCalculated] in 1164 µs
2025-12-24 13:27:48.562 [pool-2-thread-11] INFO  [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766579147763, status=PENDING_STOCK, message=Commande validée. Vérification du stock en cours., estimatedTotal=33.0, receipt=null]
2025-12-24 13:27:48.566 [pool-2-thread-11] DEBUG [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - PROCESSED message [AcknowledgeOrder] in 45 µs
2025-12-24 13:28:52.955 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - RECEIVED message [StockResult] Payload: StockResult[orderId=1766579147763, available=true, missingItems=[]]
2025-12-24 13:28:52.960 [pool-2-thread-2] INFO  [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - RECEIVED message [RecordPayment] Payload: 33.0
2025-12-24 13:28:52.961 [pool-2-thread-4] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - PROCESSED message [StockResult] in 637 µs
2025-12-24 13:28:52.961 [pool-2-thread-3] INFO  [Actor:receipt-c8969ee2-e56c-4ed9-acae-353f18c1fe45] - RECEIVED message [GenerateReceipt] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:28:53.032 [pool-2-thread-2] DEBUG [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - PROCESSED message [RecordPayment] in 71381 µs
2025-12-24 13:28:53.039 [pool-2-thread-3] DEBUG [Actor:receipt-c8969ee2-e56c-4ed9-acae-353f18c1fe45] - PROCESSED message [GenerateReceipt] in 78614 µs
2025-12-24 13:28:53.040 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - RECEIVED message [ReceiptReady] Payload: ReceiptDocument[orderId=1766579147763, clientName=Alice, tableNumber=12, total=33.0, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]], issuedAt=2025-12-24T12:28:52.962243236Z, content==== SAF RESTAURANT RECEIPT ===
Client: Alice
Table: 12
Total: 33.0 €
Items:
- burger x 2
- drink x 2
]
2025-12-24 13:28:53.044 [pool-2-thread-4] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - PROCESSED message [ReceiptReady] in 74 µs
2025-12-24 13:28:53.044 [pool-2-thread-11] INFO  [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766579147763, status=COMPLETED, message=Commande servie et ticket généré., estimatedTotal=33.0, receipt==== SAF RESTAURANT RECEIPT ===
Client: Alice
Table: 12
Total: 33.0 €
Items:
- burger x 2
- drink x 2
]
2025-12-24 13:28:53.044 [pool-2-thread-11] DEBUG [Actor:client-1766579147763-c4d122b7-45e7-4a13-b403-d80d9139879b] - Stopping actor...
2025-12-24 13:28:53.044 [pool-2-thread-11] DEBUG [Actor:] - PROCESSED message [AcknowledgeOrder] in 139 µs
2025-12-24 13:29:17.754 [http-nio-8081-exec-1] DEBUG [Actor:ask-a8d80e1a-d414-48d8-a1ce-9acd03b979fd-dbb12b13-2d3c-4cb2-bfcd-ec2d4040770e] - Starting actor...
2025-12-24 13:29:17.755 [pool-2-thread-2] INFO  [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-a8d80e1a-d414-48d8-a1ce-9acd03b979fd-dbb12b13-2d3c-4cb2-bfcd-ec2d4040770e)
2025-12-24 13:29:17.765 [pool-2-thread-2] DEBUG [Actor:treasury-4e6c35b4-db43-4f22-9db6-f9b6e2bb6dc9] - PROCESSED message [TreasurySnapshotRequest] in 10522 µs
2025-12-24 13:29:17.766 [pool-2-thread-12] INFO  [Actor:ask-a8d80e1a-d414-48d8-a1ce-9acd03b979fd-dbb12b13-2d3c-4cb2-bfcd-ec2d4040770e] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=33.00, ordersSettled=1]
2025-12-24 13:29:17.766 [pool-2-thread-12] DEBUG [Actor:ask-a8d80e1a-d414-48d8-a1ce-9acd03b979fd-dbb12b13-2d3c-4cb2-bfcd-ec2d4040770e] - Stopping actor...
2025-12-24 13:29:17.766 [pool-2-thread-12] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 239 µs
2025-12-24 13:30:34.502 [pool-2-thread-4] INFO  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - RECEIVED message [StockResult] Payload: StockResult[orderId=1, available=true, missingItems=[]]
2025-12-24 13:30:34.502 [pool-2-thread-4] WARN  [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - Stock result received for unknown order 1
2025-12-24 13:30:34.502 [pool-2-thread-4] DEBUG [Actor:restaurant-6a41820c-95c8-4b9d-aef7-1b025c5d5fb6] - PROCESSED message [StockResult] in 109 µs
2025-12-24 13:30:48.386 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:32:09.814 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [SYSTEM_SCALE_UP] Payload: 2
2025-12-24 13:32:09.814 [pool-2-thread-1] INFO  [Actor:] - Scalability: Scaling UP by 2
2025-12-24 13:32:09.814 [pool-2-thread-1] DEBUG [Actor:worker-3-eacb65a2-8096-47a1-b414-3563dd93a12b] - Starting actor...
2025-12-24 13:32:09.814 [pool-2-thread-1] DEBUG [Actor:worker-4-b1f65d91-0057-4d09-b643-52bc25c7650b] - Starting actor...
2025-12-24 13:32:09.814 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 5
2025-12-24 13:32:09.814 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [SYSTEM_SCALE_UP] in 484 µs
2025-12-24 13:32:09.828 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [SYSTEM_SCALE_DOWN] Payload: 1
2025-12-24 13:32:09.829 [pool-2-thread-1] INFO  [Actor:] - Scalability: Scaling DOWN by 1
2025-12-24 13:32:09.829 [pool-2-thread-1] DEBUG [Actor:worker-4-b1f65d91-0057-4d09-b643-52bc25c7650b] - Stopping actor...
2025-12-24 13:32:09.829 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 4
2025-12-24 13:32:09.829 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [SYSTEM_SCALE_DOWN] in 382 µs
2025-12-24 13:32:55.995 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering application SAF-RESTAURANT with eureka with status DOWN
2025-12-24 13:32:55.996 [SpringApplicationShutdownHook] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766579575996, current=DOWN, previous=UP]
2025-12-24 13:32:55.996 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:32:56.007 [SpringApplicationShutdownHook] INFO  [Actor:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:32:56.008 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 21 more

2025-12-24 13:32:56.008 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:32:56.011 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown initiated...
2025-12-24 13:32:56.022 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown completed.
2025-12-24 13:32:56.023 [SpringApplicationShutdownHook] INFO  [Actor:] - Shutting down DiscoveryClient ...
2025-12-24 13:32:56.026 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 22 more

2025-12-24 13:32:56.026 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:32:56.027 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:32:56.032 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:32:56.033 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering ...
2025-12-24 13:32:56.043 [SpringApplicationShutdownHook] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:96)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 38 more

2025-12-24 13:32:56.043 [SpringApplicationShutdownHook] WARN  [Actor:] - Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:32:56.044 [SpringApplicationShutdownHook] ERROR [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:32:56.044 [SpringApplicationShutdownHook] INFO  [Actor:] - Completed shut down of DiscoveryClient
2025-12-24 13:49:51.440 [main] INFO  [Actor:] - Starting SafRestaurantApplication using Java 21.0.7 with PID 65445 (/home/cytech/Restaurant-SAF/saf-restaurant/target/classes started by cytech in /home/cytech/Restaurant-SAF/saf-restaurant)
2025-12-24 13:49:51.443 [main] INFO  [Actor:] - No active profile set, falling back to 1 default profile: "default"
2025-12-24 13:49:52.245 [main] INFO  [Actor:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 13:49:52.360 [main] INFO  [Actor:] - Finished Spring Data repository scanning in 108 ms. Found 2 JPA repository interfaces.
2025-12-24 13:49:52.554 [main] INFO  [Actor:] - BeanFactory id=586358a7-4646-358b-a33b-2567a4473aa9
2025-12-24 13:49:52.866 [main] INFO  [Actor:] - Tomcat initialized with port 8081 (http)
2025-12-24 13:49:52.878 [main] INFO  [Actor:] - Starting service [Tomcat]
2025-12-24 13:49:52.879 [main] INFO  [Actor:] - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-12-24 13:49:52.926 [main] INFO  [Actor:] - Initializing Spring embedded WebApplicationContext
2025-12-24 13:49:52.927 [main] INFO  [Actor:] - Root WebApplicationContext: initialization completed in 1419 ms
2025-12-24 13:49:53.062 [main] INFO  [Actor:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 13:49:53.105 [main] INFO  [Actor:] - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-12-24 13:49:53.134 [main] INFO  [Actor:] - HHH000026: Second-level cache disabled
2025-12-24 13:49:53.337 [main] INFO  [Actor:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 13:49:53.363 [main] INFO  [Actor:] - HikariPool-1 - Starting...
2025-12-24 13:49:53.637 [main] INFO  [Actor:] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a72e2e8
2025-12-24 13:49:53.639 [main] INFO  [Actor:] - HikariPool-1 - Start completed.
2025-12-24 13:49:54.576 [main] INFO  [Actor:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 13:49:54.726 [main] INFO  [Actor:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:49:54.772 [main] INFO  [Actor:] - SAF ActorSystem started with 12 threads.
2025-12-24 13:49:54.778 [main] DEBUG [Actor:menu-router-e9af23cd-0ef9-4c54-972f-cab7d7c5d74b] - Starting actor...
2025-12-24 13:49:54.779 [main] INFO  [Actor:menu-router-e9af23cd-0ef9-4c54-972f-cab7d7c5d74b] - Starting Router Pool with 3 initial workers.
2025-12-24 13:49:54.992 [main] INFO  [Actor:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 13:49:55.442 [main] DEBUG [Actor:treasury-f4ef2954-37b1-4483-8464-e558b1c0e5a1] - Starting actor...
2025-12-24 13:49:55.478 [main] DEBUG [Actor:receipt-011c0ed7-667c-4db7-92bc-570ad84957c2] - Starting actor...
2025-12-24 13:49:55.481 [main] DEBUG [Actor:restaurant-31b552b9-bf03-41c3-90a2-7fa85505640a] - Starting actor...
2025-12-24 13:49:55.527 [main] WARN  [Actor:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 13:49:55.912 [main] INFO  [Actor:] - Eureka HTTP Client uses RestTemplate.
2025-12-24 13:49:55.946 [main] WARN  [Actor:] - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-12-24 13:49:55.967 [main] INFO  [Actor:] - Setting initial instance status as: STARTING
2025-12-24 13:49:55.987 [main] INFO  [Actor:] - Initializing Eureka in region us-east-1
2025-12-24 13:49:55.990 [main] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:49:55.997 [main] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:49:55.997 [main] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:49:55.997 [main] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:49:55.997 [main] INFO  [Actor:] - Application is null : false
2025-12-24 13:49:55.998 [main] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:49:55.998 [main] INFO  [Actor:] - Application version is -1: true
2025-12-24 13:49:55.998 [main] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:49:56.425 [main] INFO  [Actor:] - The response status is 200
2025-12-24 13:49:56.426 [main] INFO  [Actor:] - Starting heartbeat executor: renew interval is: 30
2025-12-24 13:49:56.430 [main] INFO  [Actor:] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-24 13:49:56.431 [main] INFO  [Actor:] - Discovery Client initialized at timestamp 1766580596431 with initial instances count: 0
2025-12-24 13:49:56.435 [main] INFO  [Actor:] - Registering application SAF-RESTAURANT with eureka with status UP
2025-12-24 13:49:56.436 [main] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766580596436, current=UP, previous=STARTING]
2025-12-24 13:49:56.438 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:49:56.463 [main] INFO  [Actor:] - Tomcat started on port 8081 (http) with context path ''
2025-12-24 13:49:56.465 [main] INFO  [Actor:] - Updating port to 8081
2025-12-24 13:49:56.488 [main] INFO  [Actor:] - Started SafRestaurantApplication in 5.538 seconds (process running for 5.861)
2025-12-24 13:49:56.678 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application is null : false
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:50:26.427 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application version is -1: false
2025-12-24 13:50:26.428 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:50:26.455 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - The response status is 200
2025-12-24 13:50:43.341 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 13:50:43.341 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Servlet 'dispatcherServlet'
2025-12-24 13:50:43.342 [http-nio-8081-exec-1] INFO  [Actor:] - Completed initialization in 1 ms
2025-12-24 13:50:43.383 [http-nio-8081-exec-1] DEBUG [Actor:ask-0b4c9642-e8d7-4924-aa81-5b6bc95c0b06-324ce4c9-f090-4568-a062-98935c57cd5d] - Starting actor...
2025-12-24 13:50:43.384 [pool-2-thread-1] INFO  [Actor:menu-router-e9af23cd-0ef9-4c54-972f-cab7d7c5d74b] - RECEIVED message [ListMenu] Payload: ActorRef(ask-0b4c9642-e8d7-4924-aa81-5b6bc95c0b06-324ce4c9-f090-4568-a062-98935c57cd5d)
2025-12-24 13:50:43.386 [pool-2-thread-1] DEBUG [Actor:worker-0-4f6a9a39-0126-4c74-a812-e0e5f0c50ab5] - Starting actor...
2025-12-24 13:50:43.386 [pool-2-thread-1] DEBUG [Actor:worker-1-df463b0f-83e6-48aa-9f1a-1c018ae32a16] - Starting actor...
2025-12-24 13:50:43.387 [pool-2-thread-1] DEBUG [Actor:worker-2-8463b57d-aa89-4ad1-9393-970a1a400c16] - Starting actor...
2025-12-24 13:50:43.387 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 3
2025-12-24 13:50:43.388 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-0-4f6a9a39-0126-4c74-a812-e0e5f0c50ab5
2025-12-24 13:50:43.388 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 3513 µs
2025-12-24 13:50:43.389 [pool-2-thread-6] INFO  [Actor:worker-0-4f6a9a39-0126-4c74-a812-e0e5f0c50ab5] - RECEIVED message [ListMenu] Payload: ActorRef(ask-0b4c9642-e8d7-4924-aa81-5b6bc95c0b06-324ce4c9-f090-4568-a062-98935c57cd5d)
2025-12-24 13:50:43.389 [pool-2-thread-6] DEBUG [Actor:worker-0-4f6a9a39-0126-4c74-a812-e0e5f0c50ab5] - PROCESSED message [ListMenu] in 155 µs
2025-12-24 13:50:43.389 [pool-2-thread-5] INFO  [Actor:ask-0b4c9642-e8d7-4924-aa81-5b6bc95c0b06-324ce4c9-f090-4568-a062-98935c57cd5d] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=burger, name=Burger maison, price=12.5, description=Pain brioché, boeuf, cheddar], MenuItem[dishName=salad, name=Salade fraîcheur, price=9.9, description=Légumes croquants], MenuItem[dishName=dessert, name=Mousse au chocolat, price=6.5, description=Chocolat noir 70%], MenuItem[dishName=drink, name=Limonade artisanale, price=4.0, description=Citron, menthe], MenuItem[dishName=coffee, name=Expresso, price=2.5, description=Arabica torréfié]]
2025-12-24 13:50:43.392 [pool-2-thread-5] DEBUG [Actor:ask-0b4c9642-e8d7-4924-aa81-5b6bc95c0b06-324ce4c9-f090-4568-a062-98935c57cd5d] - Stopping actor...
2025-12-24 13:50:43.393 [pool-2-thread-5] DEBUG [Actor:] - PROCESSED message [MenuListed] in 296 µs
2025-12-24 13:50:49.867 [http-nio-8081-exec-2] DEBUG [Actor:ask-9ef2c094-3518-4626-99a0-3844d38bb9d6-4e1bc3d7-a010-4dca-bdbd-e701ca71fa58] - Starting actor...
2025-12-24 13:50:49.868 [pool-2-thread-1] INFO  [Actor:] - RECEIVED message [ListMenu] Payload: ActorRef(ask-9ef2c094-3518-4626-99a0-3844d38bb9d6-4e1bc3d7-a010-4dca-bdbd-e701ca71fa58)
2025-12-24 13:50:49.868 [pool-2-thread-1] DEBUG [Actor:] - Routing message [ListMenu] to worker worker-1-df463b0f-83e6-48aa-9f1a-1c018ae32a16
2025-12-24 13:50:49.868 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [ListMenu] in 99 µs
2025-12-24 13:50:49.868 [pool-2-thread-7] INFO  [Actor:worker-1-df463b0f-83e6-48aa-9f1a-1c018ae32a16] - RECEIVED message [ListMenu] Payload: ActorRef(ask-9ef2c094-3518-4626-99a0-3844d38bb9d6-4e1bc3d7-a010-4dca-bdbd-e701ca71fa58)
2025-12-24 13:50:49.868 [pool-2-thread-7] DEBUG [Actor:worker-1-df463b0f-83e6-48aa-9f1a-1c018ae32a16] - PROCESSED message [ListMenu] in 30 µs
2025-12-24 13:50:49.868 [pool-2-thread-9] INFO  [Actor:ask-9ef2c094-3518-4626-99a0-3844d38bb9d6-4e1bc3d7-a010-4dca-bdbd-e701ca71fa58] - RECEIVED message [MenuListed] Payload: [MenuItem[dishName=burger, name=Burger maison, price=12.5, description=Pain brioché, boeuf, cheddar], MenuItem[dishName=salad, name=Salade fraîcheur, price=9.9, description=Légumes croquants], MenuItem[dishName=dessert, name=Mousse au chocolat, price=6.5, description=Chocolat noir 70%], MenuItem[dishName=drink, name=Limonade artisanale, price=4.0, description=Citron, menthe], MenuItem[dishName=coffee, name=Expresso, price=2.5, description=Arabica torréfié]]
2025-12-24 13:50:49.869 [pool-2-thread-9] DEBUG [Actor:ask-9ef2c094-3518-4626-99a0-3844d38bb9d6-4e1bc3d7-a010-4dca-bdbd-e701ca71fa58] - Stopping actor...
2025-12-24 13:50:49.869 [pool-2-thread-9] DEBUG [Actor:] - PROCESSED message [MenuListed] in 102 µs
2025-12-24 13:53:21.098 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering application SAF-RESTAURANT with eureka with status DOWN
2025-12-24 13:53:21.099 [SpringApplicationShutdownHook] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766580801099, current=DOWN, previous=UP]
2025-12-24 13:53:21.099 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:53:21.114 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 21 more

2025-12-24 13:53:21.114 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:53:21.116 [SpringApplicationShutdownHook] INFO  [Actor:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:53:21.120 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown initiated...
2025-12-24 13:53:21.132 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown completed.
2025-12-24 13:53:21.135 [SpringApplicationShutdownHook] INFO  [Actor:] - Shutting down DiscoveryClient ...
2025-12-24 13:53:21.138 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 22 more

2025-12-24 13:53:21.139 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:53:21.139 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:53:21.145 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:53:21.146 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering ...
2025-12-24 13:53:21.156 [SpringApplicationShutdownHook] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:96)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 38 more

2025-12-24 13:53:21.156 [SpringApplicationShutdownHook] WARN  [Actor:] - Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 13:53:21.156 [SpringApplicationShutdownHook] ERROR [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 13:53:21.158 [SpringApplicationShutdownHook] INFO  [Actor:] - Completed shut down of DiscoveryClient
2025-12-24 13:54:40.374 [main] INFO  [Actor:] - Starting SafRestaurantApplication using Java 21.0.7 with PID 68720 (/home/cytech/Restaurant-SAF/saf-restaurant/target/classes started by cytech in /home/cytech/Restaurant-SAF/saf-restaurant)
2025-12-24 13:54:40.377 [main] INFO  [Actor:] - No active profile set, falling back to 1 default profile: "default"
2025-12-24 13:54:41.044 [main] INFO  [Actor:] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24 13:54:41.167 [main] INFO  [Actor:] - Finished Spring Data repository scanning in 116 ms. Found 2 JPA repository interfaces.
2025-12-24 13:54:41.390 [main] INFO  [Actor:] - BeanFactory id=586358a7-4646-358b-a33b-2567a4473aa9
2025-12-24 13:54:41.704 [main] INFO  [Actor:] - Tomcat initialized with port 8081 (http)
2025-12-24 13:54:41.717 [main] INFO  [Actor:] - Starting service [Tomcat]
2025-12-24 13:54:41.717 [main] INFO  [Actor:] - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-12-24 13:54:41.770 [main] INFO  [Actor:] - Initializing Spring embedded WebApplicationContext
2025-12-24 13:54:41.771 [main] INFO  [Actor:] - Root WebApplicationContext: initialization completed in 1346 ms
2025-12-24 13:54:41.898 [main] INFO  [Actor:] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24 13:54:41.952 [main] INFO  [Actor:] - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-12-24 13:54:41.981 [main] INFO  [Actor:] - HHH000026: Second-level cache disabled
2025-12-24 13:54:42.186 [main] INFO  [Actor:] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24 13:54:42.210 [main] INFO  [Actor:] - HikariPool-1 - Starting...
2025-12-24 13:54:42.503 [main] INFO  [Actor:] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6533629
2025-12-24 13:54:42.505 [main] INFO  [Actor:] - HikariPool-1 - Start completed.
2025-12-24 13:54:43.372 [main] INFO  [Actor:] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24 13:54:43.422 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:54:43.422 [main] WARN  [Actor:] - la contrainte « uk_oq3k6lov98v737betmc0gna0f » de la relation « receipts » n'existe pas, ignore
2025-12-24 13:54:43.425 [main] WARN  [Actor:] - SQL Warning Code: 0, SQLState: 00000
2025-12-24 13:54:43.425 [main] WARN  [Actor:] - la contrainte « uk_604j9lgnslnhffkb9atk5van2 » de la relation « treasury_entries » n'existe pas, ignore
2025-12-24 13:54:43.432 [main] INFO  [Actor:] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 13:54:43.473 [main] INFO  [Actor:] - SAF ActorSystem started with 12 threads.
2025-12-24 13:54:43.478 [main] DEBUG [Actor:menu-router-a35a107f-764b-4a60-a8c9-c04d7ee08c1f] - Starting actor...
2025-12-24 13:54:43.478 [main] INFO  [Actor:menu-router-a35a107f-764b-4a60-a8c9-c04d7ee08c1f] - Starting Router Pool with 3 initial workers.
2025-12-24 13:54:43.671 [main] INFO  [Actor:] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-24 13:54:44.127 [main] DEBUG [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - Starting actor...
2025-12-24 13:54:44.161 [main] DEBUG [Actor:receipt-a1fcf6b5-62a4-4798-bacf-d599094ba27b] - Starting actor...
2025-12-24 13:54:44.164 [main] DEBUG [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - Starting actor...
2025-12-24 13:54:44.213 [main] WARN  [Actor:] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-24 13:54:44.711 [main] INFO  [Actor:] - Eureka HTTP Client uses RestTemplate.
2025-12-24 13:54:44.746 [main] WARN  [Actor:] - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-12-24 13:54:44.776 [main] INFO  [Actor:] - Setting initial instance status as: STARTING
2025-12-24 13:54:44.801 [main] INFO  [Actor:] - Initializing Eureka in region us-east-1
2025-12-24 13:54:44.806 [main] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:54:44.816 [main] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Application is null : false
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Application version is -1: true
2025-12-24 13:54:44.817 [main] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:54:45.206 [main] INFO  [Actor:] - The response status is 200
2025-12-24 13:54:45.207 [main] INFO  [Actor:] - Starting heartbeat executor: renew interval is: 30
2025-12-24 13:54:45.209 [main] INFO  [Actor:] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2025-12-24 13:54:45.210 [main] INFO  [Actor:] - Discovery Client initialized at timestamp 1766580885210 with initial instances count: 0
2025-12-24 13:54:45.215 [main] INFO  [Actor:] - Registering application SAF-RESTAURANT with eureka with status UP
2025-12-24 13:54:45.216 [main] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766580885216, current=UP, previous=STARTING]
2025-12-24 13:54:45.217 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 13:54:45.230 [main] INFO  [Actor:] - Tomcat started on port 8081 (http) with context path ''
2025-12-24 13:54:45.230 [main] INFO  [Actor:] - Updating port to 8081
2025-12-24 13:54:45.244 [main] INFO  [Actor:] - Started SafRestaurantApplication in 5.388 seconds (process running for 5.783)
2025-12-24 13:54:45.383 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration status: 204
2025-12-24 13:55:15.208 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Disable delta property : false
2025-12-24 13:55:15.208 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Single vip registry refresh property : null
2025-12-24 13:55:15.208 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Force full registry fetch : false
2025-12-24 13:55:15.208 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application is null : false
2025-12-24 13:55:15.208 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Registered Applications size is zero : true
2025-12-24 13:55:15.209 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Application version is -1: false
2025-12-24 13:55:15.209 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - Getting all instance registry info from the eureka server
2025-12-24 13:55:15.256 [DiscoveryClient-CacheRefreshExecutor-%d] INFO  [Actor:] - The response status is 200
2025-12-24 13:58:16.149 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24 13:58:16.149 [http-nio-8081-exec-1] INFO  [Actor:] - Initializing Servlet 'dispatcherServlet'
2025-12-24 13:58:16.150 [http-nio-8081-exec-1] INFO  [Actor:] - Completed initialization in 1 ms
2025-12-24 13:58:16.181 [http-nio-8081-exec-1] DEBUG [Actor:ask-0ad788db-97c3-4b47-8f7e-b2b134bde131-3fa98cee-fbbb-403e-8f31-0af66a46c91c] - Starting actor...
2025-12-24 13:58:16.182 [pool-2-thread-2] INFO  [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-0ad788db-97c3-4b47-8f7e-b2b134bde131-3fa98cee-fbbb-403e-8f31-0af66a46c91c)
2025-12-24 13:58:16.317 [pool-2-thread-2] DEBUG [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - PROCESSED message [TreasurySnapshotRequest] in 134755 µs
2025-12-24 13:58:16.317 [pool-2-thread-5] INFO  [Actor:ask-0ad788db-97c3-4b47-8f7e-b2b134bde131-3fa98cee-fbbb-403e-8f31-0af66a46c91c] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=0, ordersSettled=0]
2025-12-24 13:58:16.319 [pool-2-thread-5] DEBUG [Actor:ask-0ad788db-97c3-4b47-8f7e-b2b134bde131-3fa98cee-fbbb-403e-8f31-0af66a46c91c] - Stopping actor...
2025-12-24 13:58:16.320 [pool-2-thread-5] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 292 µs
2025-12-24 13:59:16.516 [http-nio-8081-exec-4] DEBUG [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - Starting actor...
2025-12-24 13:59:16.517 [pool-2-thread-6] INFO  [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - RECEIVED message [BeginOrder] Payload: BeginOrder[]
2025-12-24 13:59:16.518 [pool-2-thread-6] DEBUG [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - PROCESSED message [BeginOrder] in 226 µs
2025-12-24 13:59:16.518 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - RECEIVED message [OrderPlaced] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:59:16.520 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - Received order 1766580884167 from Alice
2025-12-24 13:59:16.521 [pool-2-thread-4] DEBUG [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - PROCESSED message [OrderPlaced] in 869 µs
2025-12-24 13:59:16.521 [pool-2-thread-1] INFO  [Actor:menu-router-a35a107f-764b-4a60-a8c9-c04d7ee08c1f] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:59:16.523 [pool-2-thread-1] DEBUG [Actor:worker-0-623dc2dd-100a-4a7f-8747-35c6096b5878] - Starting actor...
2025-12-24 13:59:16.524 [pool-2-thread-1] DEBUG [Actor:worker-1-88bd5798-5008-4478-9845-1152b88e05ae] - Starting actor...
2025-12-24 13:59:16.525 [pool-2-thread-1] DEBUG [Actor:worker-2-f14f952d-125e-4a8d-853d-ae041318a9d5] - Starting actor...
2025-12-24 13:59:16.525 [pool-2-thread-1] INFO  [Actor:] - Pool size is now: 3
2025-12-24 13:59:16.526 [pool-2-thread-1] DEBUG [Actor:] - Routing message [CalculatePrice] to worker worker-0-623dc2dd-100a-4a7f-8747-35c6096b5878
2025-12-24 13:59:16.527 [pool-2-thread-1] DEBUG [Actor:] - PROCESSED message [CalculatePrice] in 4960 µs
2025-12-24 13:59:16.527 [pool-2-thread-7] INFO  [Actor:worker-0-623dc2dd-100a-4a7f-8747-35c6096b5878] - RECEIVED message [CalculatePrice] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:59:16.527 [pool-2-thread-7] DEBUG [Actor:worker-0-623dc2dd-100a-4a7f-8747-35c6096b5878] - PROCESSED message [CalculatePrice] in 457 µs
2025-12-24 13:59:16.528 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - RECEIVED message [PriceCalculated] Payload: PriceCalculated[orderId=1766580884167, valid=true, total=33.0, missingItems=[]]
2025-12-24 13:59:16.531 [pool-2-thread-6] INFO  [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766580884167, status=PENDING_STOCK, message=Commande validée. Vérification du stock en cours., estimatedTotal=33.0, receipt=null]
2025-12-24 13:59:16.534 [pool-2-thread-6] DEBUG [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - PROCESSED message [AcknowledgeOrder] in 29 µs
2025-12-24 13:59:16.753 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - Stock check request sent to inventory for order 1766580884167
2025-12-24 13:59:16.754 [pool-2-thread-4] DEBUG [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - PROCESSED message [PriceCalculated] in 223129 µs
2025-12-24 13:59:16.982 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - RECEIVED message [StockResult] Payload: StockResult[orderId=1766580884167, available=true, missingItems=[]]
2025-12-24 13:59:16.985 [pool-2-thread-2] INFO  [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - RECEIVED message [RecordPayment] Payload: 33.0
2025-12-24 13:59:16.985 [pool-2-thread-4] DEBUG [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - PROCESSED message [StockResult] in 504 µs
2025-12-24 13:59:16.985 [pool-2-thread-3] INFO  [Actor:receipt-a1fcf6b5-62a4-4798-bacf-d599094ba27b] - RECEIVED message [GenerateReceipt] Payload: OrderRequest[clientName=Alice, tableNumber=12, instructions=sans oignons, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]]]
2025-12-24 13:59:17.057 [pool-2-thread-2] DEBUG [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - PROCESSED message [RecordPayment] in 71710 µs
2025-12-24 13:59:17.065 [pool-2-thread-3] DEBUG [Actor:receipt-a1fcf6b5-62a4-4798-bacf-d599094ba27b] - PROCESSED message [GenerateReceipt] in 79922 µs
2025-12-24 13:59:17.065 [pool-2-thread-4] INFO  [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - RECEIVED message [ReceiptReady] Payload: ReceiptDocument[orderId=1766580884167, clientName=Alice, tableNumber=12, total=33.0, items=[OrderItem[dishName=burger, quantity=2], OrderItem[dishName=drink, quantity=2]], issuedAt=2025-12-24T12:59:16.986567623Z, content==== SAF RESTAURANT RECEIPT ===
Client: Alice
Table: 12
Total: 33.0 €
Items:
- burger x 2
- drink x 2
]
2025-12-24 13:59:17.069 [pool-2-thread-4] DEBUG [Actor:restaurant-97a1398d-a006-4648-9cf3-6a94c316d686] - PROCESSED message [ReceiptReady] in 58 µs
2025-12-24 13:59:17.069 [pool-2-thread-6] INFO  [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - RECEIVED message [AcknowledgeOrder] Payload: OrderAcknowledgement[orderId=1766580884167, status=COMPLETED, message=Commande servie et ticket généré., estimatedTotal=33.0, receipt==== SAF RESTAURANT RECEIPT ===
Client: Alice
Table: 12
Total: 33.0 €
Items:
- burger x 2
- drink x 2
]
2025-12-24 13:59:17.069 [pool-2-thread-6] DEBUG [Actor:client-1766580884167-8b1e21d5-37d7-4aea-8bbe-1c8c8fd3ba31] - Stopping actor...
2025-12-24 13:59:17.070 [pool-2-thread-6] DEBUG [Actor:] - PROCESSED message [AcknowledgeOrder] in 131 µs
2025-12-24 13:59:44.820 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 13:59:50.483 [http-nio-8081-exec-7] DEBUG [Actor:ask-60bb5c6b-e84b-4270-9e92-e3b3b5b916a8-07df3ddf-70f0-4375-b38e-bcef299dbc3f] - Starting actor...
2025-12-24 13:59:50.484 [pool-2-thread-2] INFO  [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - RECEIVED message [TreasurySnapshotRequest] Payload: ActorRef(ask-60bb5c6b-e84b-4270-9e92-e3b3b5b916a8-07df3ddf-70f0-4375-b38e-bcef299dbc3f)
2025-12-24 13:59:50.495 [pool-2-thread-2] DEBUG [Actor:treasury-05e1dcc8-3df9-431e-a329-78bc5523e86f] - PROCESSED message [TreasurySnapshotRequest] in 10910 µs
2025-12-24 13:59:50.496 [pool-2-thread-10] INFO  [Actor:ask-60bb5c6b-e84b-4270-9e92-e3b3b5b916a8-07df3ddf-70f0-4375-b38e-bcef299dbc3f] - RECEIVED message [TreasurySnapshot] Payload: TreasurySnapshot[totalRevenue=33.00, ordersSettled=1]
2025-12-24 13:59:50.496 [pool-2-thread-10] DEBUG [Actor:ask-60bb5c6b-e84b-4270-9e92-e3b3b5b916a8-07df3ddf-70f0-4375-b38e-bcef299dbc3f] - Stopping actor...
2025-12-24 13:59:50.496 [pool-2-thread-10] DEBUG [Actor:] - PROCESSED message [TreasurySnapshot] in 126 µs
2025-12-24 14:04:44.821 [AsyncResolver-bootstrap-executor-%d] INFO  [Actor:] - Resolving eureka endpoints via configuration
2025-12-24 14:05:11.138 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering application SAF-RESTAURANT with eureka with status DOWN
2025-12-24 14:05:11.138 [SpringApplicationShutdownHook] INFO  [Actor:] - Saw local status change event StatusChangeEvent [timestamp=1766581511138, current=DOWN, previous=UP]
2025-12-24 14:05:11.138 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081: registering service...
2025-12-24 14:05:11.149 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 21 more

2025-12-24 14:05:11.149 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 14:05:11.166 [SpringApplicationShutdownHook] INFO  [Actor:] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24 14:05:11.172 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown initiated...
2025-12-24 14:05:11.175 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:83)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 22 more

2025-12-24 14:05:11.176 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 14:05:11.176 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - registration failed Cannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 14:05:11.182 [DiscoveryClient-InstanceInfoReplicator-%d] WARN  [Actor:] - There was a problem with the instance info replicator
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 14:05:11.188 [SpringApplicationShutdownHook] INFO  [Actor:] - HikariPool-1 - Shutdown completed.
2025-12-24 14:05:11.189 [SpringApplicationShutdownHook] INFO  [Actor:] - Shutting down DiscoveryClient ...
2025-12-24 14:05:14.191 [SpringApplicationShutdownHook] INFO  [Actor:] - Unregistering ...
2025-12-24 14:05:14.208 [SpringApplicationShutdownHook] INFO  [Actor:] - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:821)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:682)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:96)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:101)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 38 more

2025-12-24 14:05:14.208 [SpringApplicationShutdownHook] WARN  [Actor:] - Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081": Connect to http://localhost:8761 [localhost/127.0.0.1] failed: Connexion refusée
2025-12-24 14:05:14.209 [SpringApplicationShutdownHook] ERROR [Actor:] - DiscoveryClient_SAF-RESTAURANT/student-laptop.home:saf-restaurant:8081 - de-registration failedCannot execute request on any known server
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1183)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1144)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-24 14:05:14.210 [SpringApplicationShutdownHook] INFO  [Actor:] - Completed shut down of DiscoveryClient
